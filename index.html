<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SVU Library - Home</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="home-page">
    <!-- Navbar -->
    <nav class="navbar glass-card">
      <div class="nav-brand">
        <img src="images/svu_logo.jpg" alt="SVU Logo" class="nav-logo" />
        <span>SVU Library</span>
      </div>
      <div class="nav-links">
        <a href="studentLogin.html">Student</a>
        <a href="adminLogin.html">Admin</a>
        <a href="#about" onclick="showSection('about')">About Us</a>
        <a href="#services" onclick="showSection('services')">Services</a>
        <a href="#contact" onclick="showSection('contact')">Contact Us</a>
        <button
          id="theme-toggle"
          onclick="toggleTheme()"
          style="
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
          "
        >
          üåô
        </button>
      </div>
    </nav>

    <div class="main-container home-layout">
      <!-- Content Area -->

      <!-- Main Content -->
      <div class="content-area flex items-center justify-center">
        <!-- Hero Section (Default) -->
        <div id="home-section" class="home-hero glass-card">
          <img
            src="images/svu_main_logo.jpg"
            alt="SVU Logo"
            class="hero-logo"
          />
          <h1>Sri Venkateswara University<br />Library Management System</h1>
        </div>

        <!-- About Section -->
        <div id="about" class="glass-card hidden" style="max-width: 800px">
          <h1>About Us</h1>
          <p>
            Welcome to the SVU Library Management System. Our goal is to provide
            a seamless experience for students and administrators to manage
            library resources efficiently. We offer a vast collection of books
            and digital resources to support academic excellence.
          </p>
        </div>

        <!-- Services Section -->
        <!-- Services Section -->
        <div id="services" class="glass-card hidden" style="max-width: 1000px">
          <h1>Our Services</h1>
          <div class="services-grid">
            <div class="service-card">
              <div class="service-icon">üìö</div>
              <h3>Book Issuance</h3>
              <p>Easy borrowing and returning of books.</p>
            </div>
            <div class="service-card">
              <div class="service-icon">üîç</div>
              <h3>Online Catalog</h3>
              <p>Search our vast collection instantly.</p>
            </div>
            <div class="service-card">
              <div class="service-icon">üíª</div>
              <h3>Digital Access</h3>
              <p>Access e-books and journals anytime.</p>
            </div>
            <div class="service-card">
              <div class="service-icon">‚ùì</div>
              <h3>Query Resolution</h3>
              <p>Get quick answers to your academic queries.</p>
            </div>
            <div class="service-card">
              <div class="service-icon">ü§´</div>
              <h3>Reading Rooms</h3>
              <p>Peaceful environment for focused study.</p>
            </div>
          </div>
        </div>

        <!-- Contact Section -->
        <div id="contact" class="glass-card hidden" style="max-width: 800px">
          <h1>Contact Us</h1>
          <p>
            <strong>Address:</strong>Sri Venkateswara University, Tirupati,
            Andhra Pradesh - 517502.
          </p>
          <p><strong>Email:</strong> registrarsvu@gmail.com</p>
          <p><strong>Phone:</strong> +91 (877) 2289545</p>
        </div>
      </div>
    </div>

    <script>
      function showSection(id) {
        // Hide all sections
        const sections = ["home-section", "about", "services", "contact"];
        sections.forEach((s) =>
          document.getElementById(s).classList.add("hidden"),
        );

        // Show target
        const target = document.getElementById(id);
        if (target) target.classList.remove("hidden");
      }

      // Session Check
      document.addEventListener("DOMContentLoaded", () => {
        const student = localStorage.getItem("student");
        const admin = localStorage.getItem("admin");
        const navLinks = document.querySelector(".nav-links");

        if (student || admin) {
          const dashboardUrl = student
            ? "dashboard/studentDashboard.html"
            : "dashboard/adminDashboard.html";

          navLinks.innerHTML = `
            <a href="${dashboardUrl}" style="color: var(--accent); font-weight: 800;">Dashboard</a>
            <a href="#" onclick="logout()">Logout</a>
            <a href="#about" onclick="showSection('about')">About Us</a>
            <a href="#services" onclick="showSection('services')">Services</a>
            <a href="#contact" onclick="showSection('contact')">Contact Us</a>
            <button id="theme-toggle" onclick="toggleTheme()" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">üåô</button>
          `;

          // Re-update icon state after injection
          const isDark = document.body.classList.contains("dark-mode");
          updateThemeIcon(isDark);
        }
      });

      function logout() {
        localStorage.removeItem("student");
        localStorage.removeItem("admin");
        window.location.reload();
      }

      /* --- THEME LOGIC --- */
      function toggleTheme() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        localStorage.setItem("theme", isDark ? "dark" : "light");
        updateThemeIcon(isDark);
      }

      function updateThemeIcon(isDark) {
        const btn = document.getElementById("theme-toggle");
        if (btn) btn.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
      }

      // Init Theme
      (function () {
        const theme = localStorage.getItem("theme");
        if (theme === "dark") document.body.classList.add("dark-mode");
        // Icon update happens after DOM load usually, but strict init is good
      })();
    </script>
  </body>
</html>
