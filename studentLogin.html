<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Login</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="home-page">
    <div class="flex items-center justify-center h-screen">
      <div class="glass-card" style="width: 400px">
        <h2 style="text-align: center">Student Portal</h2>

        <!-- Toggle Buttons -->
        <div class="toggle-container">
          <button onclick="showLogin()" id="btnLogin" class="btn btn-primary">
            Login
          </button>
          <button onclick="showRegister()" id="btnReg" class="btn btn-outline">
            Register
          </button>
        </div>

        <!-- Login Form -->
        <form id="loginForm" onsubmit="app.loginStudent(event)">
          <input type="text" id="studentId" placeholder="Student ID" required />
          <input
            type="password"
            id="password"
            placeholder="Password"
            required
          />
          <button type="submit" class="btn btn-primary w-full">Login</button>
        </form>

        <!-- Register Form -->
        <form
          id="registerForm"
          class="hidden"
          onsubmit="app.registerStudent(event)"
        >
          <input
            type="text"
            id="reg_studentId"
            placeholder="Student ID"
            required
          />
          <input type="text" id="reg_name" placeholder="Full Name" required />
          <input
            type="email"
            id="reg_email"
            placeholder="Email Address"
            required
          />
          <select id="reg_branch" required>
            <option value="">Select Branch</option>
            <option value="CSE">CSE</option>
            <option value="ECE">ECE</option>
            <option value="MECH">MECH</option>
            <option value="MCA">MCA</option>
            <option value="MBA">MBA</option>
            <option value="M.COM">M.COM</option>
            <option value="M.SC">M.SC</option>
            <option value="M.TECH">M.TECH</option>
          </select>
          <select id="reg_year" required>
            <option value="">Select Year</option>
            <option value="1">1st Year</option>
            <option value="2">2nd Year</option>
            <option value="3">3rd Year</option>
            <option value="4">4th Year</option>
          </select>
          <input
            type="password"
            id="reg_password"
            placeholder="Set Password"
            required
          />
          <button type="submit" class="btn btn-primary w-full">Register</button>
        </form>
      </div>
    </div>

    <script src="js/db.js"></script>
    <script src="js/app.js"></script>
    <script>
      // Expose functions to global scope since app.js is loaded
      // But app.js declares functions individually.
      // To organize better, I will wrap app.js logic or just use global functions.
      // In strict mode (module), they aren't global. In standard script tag, they are.
      // However, I declared them as 'async function loginStudent'. They are global.

      // Namespace alias
      const app = {
        loginStudent: loginStudent,
        registerStudent: registerStudent,
      };

      function showLogin() {
        document.getElementById("loginForm").classList.remove("hidden");
        document.getElementById("registerForm").classList.add("hidden");

        const btnLogin = document.getElementById("btnLogin");
        const btnReg = document.getElementById("btnReg");

        btnLogin.classList.add("btn-primary");
        btnLogin.classList.remove("btn-outline");

        btnReg.classList.remove("btn-primary");
        btnReg.classList.add("btn-outline");
      }

      function showRegister() {
        document.getElementById("loginForm").classList.add("hidden");
        document.getElementById("registerForm").classList.remove("hidden");

        const btnLogin = document.getElementById("btnLogin");
        const btnReg = document.getElementById("btnReg");

        btnReg.classList.add("btn-primary");
        btnReg.classList.remove("btn-outline");

        btnLogin.classList.remove("btn-primary");
        btnLogin.classList.add("btn-outline");
      }
    </script>
  </body>
</html>
